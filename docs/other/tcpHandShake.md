# TCP握手为什么是三次而不是两次

## 前言 
三次握手是为了防止当已失效的连接请求报文段突然又传到服务端，造成双方的不一致，导致资源的浪费。

## TCP两次握手举例
- 客户端向服务端发送第一次连接请求。
- 由于网络拥塞，客户端发送的连接请求迟迟到不了服务端，客户端超时重发第二次连接请求。
- 假设这一次服务端正确接受并确认应答，双方开始通信，通行结束后释放连接。
- 释放连接后，客户端任务失效的连接请求抵达了服务端，由于只有两次握手，服务端收到请求就会进入ESTABLISHED状态，等待发送数据或主动发送数据。但此时的客户端早已进入CLOSED状态，服务端将会一直等待下去，这样浪费服务端
